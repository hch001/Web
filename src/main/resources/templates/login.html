<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>登录界面</title>
    <link th:href="@{/css/login.css}" type="text/css" rel="stylesheet">

</head>
<body>


    <div class='gcs-login'>
        <div class="gcs-login-panel" >
            <form method="post" th:unless="${users!=null and #lists.size(users)>0}">
                <div class="login-title">
                    <h2>用户登录</h2>
                </div>
                <div class="gcs-login-container">
                    <input type="text" class="input" placeholder="请输入账号" name="username"/>
                </div>
                <div class="gcs-login-container">
                    <input type="password"  class="input" placeholder="请输入密码" name="password"/>
                </div>
                <div class="gcs-login-container">
                    <div class="gcs-login-validation">
                        <input type="text"  class="input validation-input" placeholder="请输入验证码" name="validation"/>
                        <img class="validation-img" th:src="${img_no}" title="看不清楚？刷新重试">
                    </div>
                </div>
                <br />
                <br />
                <div class="gcs-login-container">
                    <input type="submit" value="立即登录" class="btn-login" />
                </div>
            </form>
            <div  th:if="${users!=null}">
                <div class="gcs-login-container" th:if="${#lists.isEmpty(users)}">
                    <div class="login_fail_status">
                        <span >用户名不存在或密码错误</span>
                    </div>
                </div>
                <div class="gcs-login-container" th:if="${#lists.size(users)>0}">
                    <div th:each="user : ${users}">
                        <div class="login_success_status">
                            <span th:text="'登录成功，欢迎您 '+${user.username}"></span>
                        </div>
                    </div>
                    <br/><br/><br/>
                    <a th:href="@{'/users--/'+${users[0].username}}">
                    <button class="btn-login">
                        点击进入
                    </button>
                    </a>
                </div>
            </div>
        </div>
        

    </div>

</body>
</html>